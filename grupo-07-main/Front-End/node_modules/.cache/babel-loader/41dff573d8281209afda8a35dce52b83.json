{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nahue\\\\LEANDRO\\\\ProyectoIntegradorTerminado\\\\grupo-07-main\\\\Front-End\\\\src\\\\views\\\\Admin.jsx\";\nimport React from \"react\";\nimport AdminFeatures from \"../components/Admin/AdminFeatures\";\nimport AdminImages from \"../components/Admin/AdminImages\";\nimport AdminPolicies from \"../components/Admin/AdminPolicies\";\nimport AdminLocation from \"../components/Admin/AdminLocation\";\nimport AdminHeader from \"../components/Admin/AdminHeader\";\nimport \"../styles/Admin/Admin.css\";\nimport { useContext } from \"react\";\nimport { CreateCarContext } from \"../context/Admin/CreateCarContext\";\nimport { CreatePoliciesContext } from \"../context/Admin/CreatePoliciesContext\";\nimport { AddImagesContext } from \"../context/Admin/AddImagesContext\";\nimport { AddFeaturesContext } from \"../context/Admin/AddFeaturesContext\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport SuccessfulMessage from \"../components/Global/SuccessfulMessage\";\n\nconst Admin = () => {\n  const {\n    title,\n    description,\n    city,\n    category,\n    location\n  } = useContext(CreateCarContext);\n  const {\n    termsContent,\n    safetyContent,\n    cancellationContent\n  } = useContext(CreatePoliciesContext);\n  const {\n    images\n  } = useContext(AddImagesContext);\n  const {\n    features\n  } = useContext(AddFeaturesContext);\n  const [formErrors, setFormErrors] = useState({});\n  const [addCarSuccess, setAddCarSuccess] = useState(false);\n  /* valores input */\n\n  const addCarParams = {\n    title: title,\n    description: description,\n    position: location,\n    city: {\n      id: city\n    },\n    category: {\n      id: category\n    },\n    images: images,\n    features: features,\n    policies: [{\n      terms_title: \"Normas del auto\",\n      terms_content: termsContent,\n      safety_title: \"Salud y seguridad\",\n      safety_content: safetyContent,\n      cancellation_title: \"Política de cancelación\",\n      cancellation_content: cancellationContent\n    }]\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    setFormErrors(validate());\n\n    const createCar = async () => {\n      try {\n        await axios.post(\"http://54.176.81.27:8080/autos/agregar\", addCarParams).then(response => console.log(response));\n        setAddCarSuccess(true);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    createCar();\n  };\n\n  const validate = () => {\n    const errors = {};\n\n    if (!title) {\n      errors.title = \"El nombre es requerido\";\n    }\n\n    if (!description) {\n      errors.description = \"La descripción es requerida\";\n    }\n\n    if (!location) {\n      errors.location = \"La localización es requerida\";\n    }\n\n    if (!city) {\n      errors.city = \"La ciudad es requerida\";\n    }\n\n    if (!category) {\n      errors.category = \"La categoria es requerida\";\n    }\n\n    if (images.length === 0) {\n      errors.images = \"Al menos una imagen es requerida\";\n    }\n\n    if (features.length === 0) {\n      errors.features = \"Al menos una caracteristica es requerida\";\n    }\n\n    if (!termsContent) {\n      errors.termsContent = \"La descripción de las normas del auto es obligatoria\";\n    }\n\n    if (!safetyContent) {\n      errors.safetyContent = \"La descripción de las politicas de seguridad son obligatorias\";\n    }\n\n    if (!cancellationContent) {\n      errors.cancellationContent = \"La descripción de las politicas de cancelación son obligatorias\";\n    }\n\n    return errors;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, addCarSuccess ? /*#__PURE__*/React.createElement(SuccessfulMessage, {\n    text: \"Tu auto se creo con exito\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AdminHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"adminForm-sectionContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"adminForm-sectionContainer-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, \"Crear auto\"), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    className: \"adminForm-formCard\",\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AdminLocation, {\n    errors: formErrors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(AdminFeatures, {\n    errors: formErrors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(AdminPolicies, {\n    errors: formErrors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(AdminImages, {\n    errors: formErrors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adminForm-divButtonCrear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, \"Crear\"))))));\n};\n\nexport default Admin;","map":{"version":3,"names":["React","AdminFeatures","AdminImages","AdminPolicies","AdminLocation","AdminHeader","useContext","CreateCarContext","CreatePoliciesContext","AddImagesContext","AddFeaturesContext","axios","useState","SuccessfulMessage","Admin","title","description","city","category","location","termsContent","safetyContent","cancellationContent","images","features","formErrors","setFormErrors","addCarSuccess","setAddCarSuccess","addCarParams","position","id","policies","terms_title","terms_content","safety_title","safety_content","cancellation_title","cancellation_content","handleFormSubmit","e","preventDefault","validate","createCar","post","then","response","console","log","error","errors","length"],"sources":["C:/Users/nahue/LEANDRO/ProyectoIntegradorTerminado/grupo-07-main/Front-End/src/views/Admin.jsx"],"sourcesContent":["import React from \"react\";\nimport AdminFeatures from \"../components/Admin/AdminFeatures\";\nimport AdminImages from \"../components/Admin/AdminImages\";\nimport AdminPolicies from \"../components/Admin/AdminPolicies\";\nimport AdminLocation from \"../components/Admin/AdminLocation\";\nimport AdminHeader from \"../components/Admin/AdminHeader\";\nimport \"../styles/Admin/Admin.css\";\nimport { useContext } from \"react\";\nimport { CreateCarContext } from \"../context/Admin/CreateCarContext\";\nimport { CreatePoliciesContext } from \"../context/Admin/CreatePoliciesContext\";\nimport { AddImagesContext } from \"../context/Admin/AddImagesContext\";\nimport { AddFeaturesContext } from \"../context/Admin/AddFeaturesContext\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport SuccessfulMessage from \"../components/Global/SuccessfulMessage\";\n\nconst Admin = () => {\n\n  const {title, description, city, category, location} = useContext(CreateCarContext);\n  const {termsContent, safetyContent, cancellationContent} = useContext(CreatePoliciesContext);\n  const {images} = useContext(AddImagesContext);\n  const {features} = useContext(AddFeaturesContext);\n\n  const [formErrors, setFormErrors] = useState({});\n  const [addCarSuccess, setAddCarSuccess] = useState(false);\n\n  /* valores input */\n  const addCarParams = {\n    title: title,\n    description: description,\n    position: location,\n    city:{\n      id: city\n    },\n    category:{\n      id: category\n    },\n    images: images,\n    features: features,\n    policies: [{\n      terms_title:\"Normas del auto\",\n      terms_content: termsContent,\n      safety_title:\"Salud y seguridad\",\n      safety_content: safetyContent,\n      cancellation_title:\"Política de cancelación\",\n      cancellation_content: cancellationContent  \n    }]\n  }\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    setFormErrors(validate());\n    \n    const createCar = async () => {\n      try {\n        await axios.post(\"http://54.176.81.27:8080/autos/agregar\", addCarParams)\n        .then(response => console.log(response))\n        setAddCarSuccess(true);\n      } \n      \n      catch (error) {\n        console.log(error);\n      }\n    }\n\n\n    createCar();\n  }\n\n  const validate = () => {\n\n    const errors = {};\n\n    if (!title) {\n      errors.title = \"El nombre es requerido\"\n    }\n\n    if(!description) {\n      errors.description = \"La descripción es requerida\"\n    }\n\n    if(!location) {\n      errors.location = \"La localización es requerida\"\n    }\n\n    if (!city) {\n      errors.city = \"La ciudad es requerida\"\n    }\n\n    if (!category) {\n      errors.category = \"La categoria es requerida\"\n    }\n\n    if (images.length === 0) {\n      errors.images = \"Al menos una imagen es requerida\"\n    }\n\n    if(features.length === 0) {\n      errors.features = \"Al menos una caracteristica es requerida\"\n    }\n\n    if(!termsContent) {\n      errors.termsContent = \"La descripción de las normas del auto es obligatoria\"\n    }\n\n    if(!safetyContent) {\n      errors.safetyContent = \"La descripción de las politicas de seguridad son obligatorias\"\n    }\n\n    if(!cancellationContent) {\n      errors.cancellationContent = \"La descripción de las politicas de cancelación son obligatorias\"\n    }\n\n    return errors;\n\n  }\n\n\n  return (\n    <>\n    {addCarSuccess? <SuccessfulMessage text=\"Tu auto se creo con exito\"/>\n    :\n    <>\n      <AdminHeader/>\n      <section className=\"adminForm-sectionContainer\">\n        <h2 className=\"adminForm-sectionContainer-title\">Crear auto</h2>\n        <form action=\"\" className=\"adminForm-formCard\" onSubmit={handleFormSubmit}>\n          <AdminLocation errors={formErrors} />\n          <AdminFeatures errors={formErrors} />\n          <AdminPolicies errors={formErrors} />\n          <AdminImages errors={formErrors}/>\n          <div className=\"adminForm-divButtonCrear\">\n            <button className=\"primary-button\">Crear</button>\n          </div>\n        </form>\n      </section>\n    </>\n      }\n    </>\n  );\n};\n\nexport default Admin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}